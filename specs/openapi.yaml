openapi: 3.0.0
info:
  title: OIF API
  version: 0.1.0
  description: |-
    API specifications for OIF protocol covering quote generation and intent submission.
    Amount fields are strings representing integers (e.g., uint256) to preserve precision across transports.
servers:
  - url: https://api.example.com
tags:
  - name: quotes
    description: Quote generation
  - name: orders
    description: Order management
components:
  schemas:
    Address:
      type: string
      pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
      description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
    Amount:
      type: string
      pattern: ^[0-9]+$
      description: Integer encoded as a string to preserve precision (e.g., uint256)
    OrderType:
      anyOf:
        - type: string
          enum:
            - swap-buy
        - type: string
          enum:
            - swap-sell
      description: Closed list defining how providers must interpret amounts for swaps. "swap-sell" means exact-input (spend exactly the input amounts). "swap-buy" means exact-output (receive exactly the output amounts). To include more options the API will be extended in the future.
    AssetLockReference:
      type: object
      properties:
        kind:
          anyOf:
            - type: string
              enum:
                - the-compact
            - type: string
              enum:
                - rhinestone
        params:
          type: object
          additionalProperties:
            nullable: true
      required:
        - kind
    AvailableInput:
      type: object
      properties:
        user:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        asset:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        amount:
          type: string
          pattern: ^[0-9]+$
          description: Integer encoded as a string to preserve precision (e.g., uint256)
        lock:
          type: object
          properties:
            kind:
              anyOf:
                - type: string
                  enum:
                    - the-compact
                - type: string
                  enum:
                    - rhinestone
            params:
              type: object
              additionalProperties:
                nullable: true
          required:
            - kind
      required:
        - user
        - asset
        - amount
    RequestedOutput:
      type: object
      properties:
        receiver:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        asset:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        amount:
          type: string
          pattern: ^[0-9]+$
          description: Integer encoded as a string to preserve precision (e.g., uint256)
        calldata:
          type: string
      required:
        - receiver
        - asset
        - amount
    RequestedOutputDetails:
      type: object
      properties:
        user:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        asset:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        amount:
          type: string
          pattern: ^[0-9]+$
          description: Integer encoded as a string to preserve precision (e.g., uint256)
        calldata:
          type: string
      required:
        - user
        - asset
        - amount
    QuotePreference:
      anyOf:
        - type: string
          enum:
            - price
        - type: string
          enum:
            - speed
        - type: string
          enum:
            - input-priority
        - type: string
          enum:
            - trust-minimization
      description: Quote preference type
    GetQuoteRequest:
      type: object
      properties:
        user:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        availableInputs:
          type: array
          items:
            type: object
            properties:
              user:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              asset:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              amount:
                type: string
                pattern: ^[0-9]+$
                description: Integer encoded as a string to preserve precision (e.g., uint256)
              lock:
                type: object
                properties:
                  kind:
                    anyOf:
                      - type: string
                        enum:
                          - the-compact
                      - type: string
                        enum:
                          - rhinestone
                  params:
                    type: object
                    additionalProperties:
                      nullable: true
                required:
                  - kind
            required:
              - user
              - asset
              - amount
        requestedOutputs:
          type: array
          items:
            type: object
            properties:
              receiver:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              asset:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              amount:
                type: string
                pattern: ^[0-9]+$
                description: Integer encoded as a string to preserve precision (e.g., uint256)
              calldata:
                type: string
            required:
              - receiver
              - asset
              - amount
        orderType:
          anyOf:
            - type: string
              enum:
                - swap-buy
            - type: string
              enum:
                - swap-sell
          description: Closed list defining how providers must interpret amounts for swaps. "swap-sell" means exact-input (spend exactly the input amounts). "swap-buy" means exact-output (receive exactly the output amounts). To include more options the API will be extended in the future.
        minValidUntil:
          type: number
        preference:
          anyOf:
            - type: string
              enum:
                - price
            - type: string
              enum:
                - speed
            - type: string
              enum:
                - input-priority
            - type: string
              enum:
                - trust-minimization
          description: Quote preference type
        originSubmission:
          type: object
          properties:
            mode:
              anyOf:
                - type: string
                  enum:
                    - user
                - type: string
                  enum:
                    - protocol
            schemes:
              type: array
              items:
                anyOf:
                  - type: string
                    enum:
                      - erc-4337
                  - type: string
                    enum:
                      - permit2
                  - type: string
                    enum:
                      - erc20-permit
                  - type: string
                    enum:
                      - eip-3009
          required:
            - mode
      required:
        - user
        - availableInputs
        - requestedOutputs
    Eip712Order:
      type: object
      properties:
        domain:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        primaryType:
          type: string
        message:
          type: object
          additionalProperties:
            nullable: true
      required:
        - domain
        - primaryType
        - message
    QuoteDetails:
      type: object
      properties:
        requestedOutputs:
          type: array
          items:
            type: object
            properties:
              user:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              asset:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              amount:
                type: string
                pattern: ^[0-9]+$
                description: Integer encoded as a string to preserve precision (e.g., uint256)
              calldata:
                type: string
            required:
              - user
              - asset
              - amount
        availableInputs:
          type: array
          items:
            type: object
            properties:
              user:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              asset:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              amount:
                type: string
                pattern: ^[0-9]+$
                description: Integer encoded as a string to preserve precision (e.g., uint256)
              lockType:
                type: string
                enum:
                  - the-compact
            required:
              - user
              - asset
              - amount
      required:
        - requestedOutputs
        - availableInputs
    Quote:
      type: object
      properties:
        orders:
          type: array
          items:
            type: object
            properties:
              domain:
                type: string
                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
              primaryType:
                type: string
              message:
                type: object
                additionalProperties:
                  nullable: true
            required:
              - domain
              - primaryType
              - message
        details:
          type: object
          properties:
            requestedOutputs:
              type: array
              items:
                type: object
                properties:
                  user:
                    type: string
                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                  asset:
                    type: string
                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                  amount:
                    type: string
                    pattern: ^[0-9]+$
                    description: Integer encoded as a string to preserve precision (e.g., uint256)
                  calldata:
                    type: string
                required:
                  - user
                  - asset
                  - amount
            availableInputs:
              type: array
              items:
                type: object
                properties:
                  user:
                    type: string
                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                  asset:
                    type: string
                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                  amount:
                    type: string
                    pattern: ^[0-9]+$
                    description: Integer encoded as a string to preserve precision (e.g., uint256)
                  lockType:
                    type: string
                    enum:
                      - the-compact
                required:
                  - user
                  - asset
                  - amount
          required:
            - requestedOutputs
            - availableInputs
        validUntil:
          type: number
        eta:
          type: number
        quoteId:
          type: string
        provider:
          type: string
      required:
        - orders
        - details
        - quoteId
        - provider
    GetQuoteResponse:
      type: object
      properties:
        quotes:
          type: array
          items:
            type: object
            properties:
              orders:
                type: array
                items:
                  type: object
                  properties:
                    domain:
                      type: string
                      pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                      description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                    primaryType:
                      type: string
                    message:
                      type: object
                      additionalProperties:
                        nullable: true
                  required:
                    - domain
                    - primaryType
                    - message
              details:
                type: object
                properties:
                  requestedOutputs:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: string
                          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                        asset:
                          type: string
                          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                        amount:
                          type: string
                          pattern: ^[0-9]+$
                          description: Integer encoded as a string to preserve precision (e.g., uint256)
                        calldata:
                          type: string
                      required:
                        - user
                        - asset
                        - amount
                  availableInputs:
                    type: array
                    items:
                      type: object
                      properties:
                        user:
                          type: string
                          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                        asset:
                          type: string
                          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                        amount:
                          type: string
                          pattern: ^[0-9]+$
                          description: Integer encoded as a string to preserve precision (e.g., uint256)
                        lockType:
                          type: string
                          enum:
                            - the-compact
                      required:
                        - user
                        - asset
                        - amount
                required:
                  - requestedOutputs
                  - availableInputs
              validUntil:
                type: number
              eta:
                type: number
              quoteId:
                type: string
              provider:
                type: string
            required:
              - orders
              - details
              - quoteId
              - provider
      required:
        - quotes
    PostOrderRequest:
      type: object
      properties:
        order:
          type: object
          additionalProperties:
            nullable: true
        signature:
          type: object
          additionalProperties:
            nullable: true
        quoteId:
          type: string
        provider:
          type: string
        failureHandling:
          anyOf:
            - type: string
              enum:
                - retry
            - type: string
              enum:
                - refund-instant
            - type: string
              enum:
                - refund-claim
            - type: string
              enum:
                - needs-new-signature
            - type: object
              properties:
                partialFill:
                  type: boolean
                remainder:
                  anyOf:
                    - type: string
                      enum:
                        - retry
                    - type: string
                      enum:
                        - refund-instant
                    - type: string
                      enum:
                        - refund-claim
                    - type: string
                      enum:
                        - needs-new-signature
              required:
                - remainder
        originSubmission:
          type: object
          properties:
            mode:
              anyOf:
                - type: string
                  enum:
                    - user
                - type: string
                  enum:
                    - protocol
            schemes:
              type: array
              items:
                anyOf:
                  - type: string
                    enum:
                      - erc-4337
                  - type: string
                    enum:
                      - permit2
                  - type: string
                    enum:
                      - erc20-permit
                  - type: string
                    enum:
                      - eip-3009
          required:
            - mode
      required:
        - order
        - signature
        - provider
        - failureHandling
    PostOrderResponse:
      type: object
      properties:
        orderId:
          type: string
        status:
          type: string
          enum:
            - received
            - rejected
            - error
        message:
          type: string
        order:
          type: object
          additionalProperties:
            nullable: true
      required:
        - status
    PostOrderResponseStatus:
      type: string
      enum:
        - received
        - rejected
        - error
    OrderStatus:
      type: string
      enum:
        - created
        - pending
        - executed
        - settled
        - finalized
        - failed
    AssetAmount:
      type: object
      properties:
        asset:
          type: string
          pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
          description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
        amount:
          type: string
          pattern: ^[0-9]+$
          description: Integer encoded as a string to preserve precision (e.g., uint256)
      required:
        - asset
        - amount
    SettlementType:
      type: string
      enum:
        - escrow
        - resourceLock
    Settlement:
      type: object
      properties:
        type:
          type: string
          enum:
            - escrow
            - resourceLock
        data:
          type: object
          additionalProperties:
            nullable: true
      required:
        - type
        - data
    GetOrderRequest:
      type: object
      properties:
        id:
          type: string
      required:
        - id
    GetOrderResponse:
      type: object
      properties:
        id:
          type: string
        status:
          type: string
          enum:
            - created
            - pending
            - executed
            - settled
            - finalized
            - failed
        createdAt:
          type: number
        updatedAt:
          type: number
        quoteId:
          type: string
        inputAmount:
          type: object
          properties:
            asset:
              type: string
              pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
              description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
            amount:
              type: string
              pattern: ^[0-9]+$
              description: Integer encoded as a string to preserve precision (e.g., uint256)
          required:
            - asset
            - amount
        outputAmount:
          type: object
          properties:
            asset:
              type: string
              pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
              description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
            amount:
              type: string
              pattern: ^[0-9]+$
              description: Integer encoded as a string to preserve precision (e.g., uint256)
          required:
            - asset
            - amount
        settlement:
          type: object
          properties:
            type:
              type: string
              enum:
                - escrow
                - resourceLock
            data:
              type: object
              additionalProperties:
                nullable: true
          required:
            - type
            - data
        fillTransaction:
          type: object
          additionalProperties:
            nullable: true
      required:
        - id
        - status
        - createdAt
        - updatedAt
        - inputAmount
        - outputAmount
        - settlement
  parameters: {}
paths:
  /v1/quotes:
    post:
      summary: Generate executable quotes for requested outputs given available inputs.
      tags:
        - quotes
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  type: string
                  pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                  description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                availableInputs:
                  type: array
                  items:
                    type: object
                    properties:
                      user:
                        type: string
                        pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                        description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                      asset:
                        type: string
                        pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                        description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                      amount:
                        type: string
                        pattern: ^[0-9]+$
                        description: Integer encoded as a string to preserve precision (e.g., uint256)
                      lock:
                        type: object
                        properties:
                          kind:
                            anyOf:
                              - type: string
                                enum:
                                  - the-compact
                              - type: string
                                enum:
                                  - rhinestone
                          params:
                            type: object
                            additionalProperties:
                              nullable: true
                        required:
                          - kind
                    required:
                      - user
                      - asset
                      - amount
                requestedOutputs:
                  type: array
                  items:
                    type: object
                    properties:
                      receiver:
                        type: string
                        pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                        description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                      asset:
                        type: string
                        pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                        description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                      amount:
                        type: string
                        pattern: ^[0-9]+$
                        description: Integer encoded as a string to preserve precision (e.g., uint256)
                      calldata:
                        type: string
                    required:
                      - receiver
                      - asset
                      - amount
                orderType:
                  anyOf:
                    - type: string
                      enum:
                        - swap-buy
                    - type: string
                      enum:
                        - swap-sell
                  description: Closed list defining how providers must interpret amounts for swaps. "swap-sell" means exact-input (spend exactly the input amounts). "swap-buy" means exact-output (receive exactly the output amounts). To include more options the API will be extended in the future.
                minValidUntil:
                  type: number
                preference:
                  anyOf:
                    - type: string
                      enum:
                        - price
                    - type: string
                      enum:
                        - speed
                    - type: string
                      enum:
                        - input-priority
                    - type: string
                      enum:
                        - trust-minimization
                  description: Quote preference type
                originSubmission:
                  type: object
                  properties:
                    mode:
                      anyOf:
                        - type: string
                          enum:
                            - user
                        - type: string
                          enum:
                            - protocol
                    schemes:
                      type: array
                      items:
                        anyOf:
                          - type: string
                            enum:
                              - erc-4337
                          - type: string
                            enum:
                              - permit2
                          - type: string
                            enum:
                              - erc20-permit
                          - type: string
                            enum:
                              - eip-3009
                  required:
                    - mode
              required:
                - user
                - availableInputs
                - requestedOutputs
      responses:
        "200":
          description: Quotes successfully generated
          content:
            application/json:
              schema:
                type: object
                properties:
                  quotes:
                    type: array
                    items:
                      type: object
                      properties:
                        orders:
                          type: array
                          items:
                            type: object
                            properties:
                              domain:
                                type: string
                                pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                                description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                              primaryType:
                                type: string
                              message:
                                type: object
                                additionalProperties:
                                  nullable: true
                            required:
                              - domain
                              - primaryType
                              - message
                        details:
                          type: object
                          properties:
                            requestedOutputs:
                              type: array
                              items:
                                type: object
                                properties:
                                  user:
                                    type: string
                                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                                  asset:
                                    type: string
                                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                                  amount:
                                    type: string
                                    pattern: ^[0-9]+$
                                    description: Integer encoded as a string to preserve precision (e.g., uint256)
                                  calldata:
                                    type: string
                                required:
                                  - user
                                  - asset
                                  - amount
                            availableInputs:
                              type: array
                              items:
                                type: object
                                properties:
                                  user:
                                    type: string
                                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                                  asset:
                                    type: string
                                    pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                                    description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                                  amount:
                                    type: string
                                    pattern: ^[0-9]+$
                                    description: Integer encoded as a string to preserve precision (e.g., uint256)
                                  lockType:
                                    type: string
                                    enum:
                                      - the-compact
                                required:
                                  - user
                                  - asset
                                  - amount
                          required:
                            - requestedOutputs
                            - availableInputs
                        validUntil:
                          type: number
                        eta:
                          type: number
                        quoteId:
                          type: string
                        provider:
                          type: string
                      required:
                        - orders
                        - details
                        - quoteId
                        - provider
                required:
                  - quotes
        "400":
          description: Malformed request
        "422":
          description: Inputs cannot satisfy requested outputs
  /v1/orders:
    post:
      summary: Submit a previously quoted, signed order for execution.
      tags:
        - orders
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                order:
                  type: object
                  additionalProperties:
                    nullable: true
                signature:
                  type: object
                  additionalProperties:
                    nullable: true
                quoteId:
                  type: string
                provider:
                  type: string
                failureHandling:
                  anyOf:
                    - type: string
                      enum:
                        - retry
                    - type: string
                      enum:
                        - refund-instant
                    - type: string
                      enum:
                        - refund-claim
                    - type: string
                      enum:
                        - needs-new-signature
                    - type: object
                      properties:
                        partialFill:
                          type: boolean
                        remainder:
                          anyOf:
                            - type: string
                              enum:
                                - retry
                            - type: string
                              enum:
                                - refund-instant
                            - type: string
                              enum:
                                - refund-claim
                            - type: string
                              enum:
                                - needs-new-signature
                      required:
                        - remainder
                originSubmission:
                  type: object
                  properties:
                    mode:
                      anyOf:
                        - type: string
                          enum:
                            - user
                        - type: string
                          enum:
                            - protocol
                    schemes:
                      type: array
                      items:
                        anyOf:
                          - type: string
                            enum:
                              - erc-4337
                          - type: string
                            enum:
                              - permit2
                          - type: string
                            enum:
                              - erc20-permit
                          - type: string
                            enum:
                              - eip-3009
                  required:
                    - mode
              required:
                - order
                - signature
                - provider
                - failureHandling
      responses:
        "200":
          description: Order accepted
          content:
            application/json:
              schema:
                type: object
                properties:
                  orderId:
                    type: string
                  status:
                    type: string
                    enum:
                      - received
                      - rejected
                      - error
                  message:
                    type: string
                  order:
                    type: object
                    additionalProperties:
                      nullable: true
                required:
                  - status
        "400":
          description: Malformed request
        "422":
          description: Invalid signature or order
  /v1/orders/{id}:
    get:
      summary: Get order details by ID.
      tags:
        - orders
      parameters:
        - schema:
            type: string
            description: Order identifier
          required: true
          description: Order identifier
          name: id
          in: path
      responses:
        "200":
          description: Order details retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  status:
                    type: string
                    enum:
                      - created
                      - pending
                      - executed
                      - settled
                      - finalized
                      - failed
                  createdAt:
                    type: number
                  updatedAt:
                    type: number
                  quoteId:
                    type: string
                  inputAmount:
                    type: object
                    properties:
                      asset:
                        type: string
                        pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                        description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                      amount:
                        type: string
                        pattern: ^[0-9]+$
                        description: Integer encoded as a string to preserve precision (e.g., uint256)
                    required:
                      - asset
                      - amount
                  outputAmount:
                    type: object
                    properties:
                      asset:
                        type: string
                        pattern: ^0x([a-fA-F0-9]{40}|0001[a-fA-F0-9]+)$
                        description: EIP-7930 interoperable address - plain Ethereum address (0x + 40 hex) or version 1 encoded format (0x0001... with chain+address)
                      amount:
                        type: string
                        pattern: ^[0-9]+$
                        description: Integer encoded as a string to preserve precision (e.g., uint256)
                    required:
                      - asset
                      - amount
                  settlement:
                    type: object
                    properties:
                      type:
                        type: string
                        enum:
                          - escrow
                          - resourceLock
                      data:
                        type: object
                        additionalProperties:
                          nullable: true
                    required:
                      - type
                      - data
                  fillTransaction:
                    type: object
                    additionalProperties:
                      nullable: true
                required:
                  - id
                  - status
                  - createdAt
                  - updatedAt
                  - inputAmount
                  - outputAmount
                  - settlement
        "404":
          description: Order not found
